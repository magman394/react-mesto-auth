{"version":3,"sources":["components/Header.js","images/edit-botton.svg","images/add-botton.svg","images/line.gif","contexts/CurrentUserContext.js","components/Card.js","images/delete.png","components/Main.js","utils/constants.js","components/Footer.js","components/Login.js","images/Close-Icon.svg","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/auth.js","images/ok.svg","images/error.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","exact","path","Email","onClick","Relogin","to","CurrentUserContext","React","createContext","defaultUser","name","about","avatar","defultLoading","Card","onCardClick","link","likes","onCardLike","_id","onCardDelete","owner","userInfo","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","src","img","title","alt","type","width","height","length","Main","onEditAvatar","onAddPlace","onEditProfile","cards","profileEditBotton","profileAddBotton","map","item","currentYear","document","querySelector","Date","getFullYear","Footer","Login","state","email","password","onLogin","handleChange","bind","handleSubmit","e","target","value","this","setState","preventDefault","onSubmit","onChange","placeholder","Component","PopupWithForm","children","isOpen","onClose","buttonText","PopupCloseIcon","noValidate","ImagePopup","id","popupCloseIcon","card","api","url","token","Promise","all","getUserInfo","getCards","fetch","headers","then","res","_getResponseData","check","method","onUpdateUser","body","JSON","stringify","profileAvatar","onUpdateCard","ok","json","reject","status","authorization","EditProfilePopup","currentUser","useState","setName","description","setDescription","useEffect","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","Register","onRegister","ProtectedRoute","component","loggedIn","InfoTooltip","isInfo","text","auth","data","localStorage","setItem","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditImagePopupOpen","setEditImagePopupOpen","isEditRegisterPopupOpen","setEditRegisterPopupOpen","isAddRegister","selectedCard","setSelectedCard","isInfoTool","setInfoTool","setCurrentUser","selectedEmail","setSelectedEmail","setCards","setLoggedIn","history","useHistory","jwt","getItem","authorizeToken","push","catch","getAllPromise","arg","err","alert","closeAllPopups","Provider","removeItem","changeLikeCardStatus","newCard","c","delmyCard","filter","authorize","error","register","setUserInfo","response","setAddPlase","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.831b7ed9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\nfunction Header(props) {\r\n\r\n    return (\r\n      <header className=\"header\">\r\n          <div className=\"header__logo\"></div>\r\n      <Switch>\r\n        <Route exact path='/mesto-react'>\r\n          <nav className='menu'>\r\n            <p className='menu__item'>{props.Email}</p>\r\n            <button className='menu__logout' onClick={props.Relogin}>\r\n              Выйти\r\n            </button>\r\n          </nav>\r\n        </Route>\r\n        <Route path='/sign-up'>\r\n          <Link className='menu__auth-link' to='sign-in'>\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n        <Route path='/sign-in'>\r\n          <Link className='menu__auth-link' to='sign-up'>\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n      </Switch>\r\n      </header>\r\n  );\r\n}\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/edit-botton.f0dd9c51.svg\";","export default __webpack_public_path__ + \"static/media/add-botton.bed8c136.svg\";","export default __webpack_public_path__ + \"static/media/line.90aa511c.gif\";","import React from 'react';\r\nimport defultLoading from '../images/line.gif';\r\nexport const CurrentUserContext = React.createContext();\r\nexport const defaultUser = {\r\n    name: '',\r\n    about: '',\r\n    avatar: defultLoading\r\n}; \r\n\r\n","import React from \"react\";\r\nimport boxCardDeleteBotton from \"../images/delete.png\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nfunction Card({\r\n  onCardClick,\r\n  link,\r\n  name,\r\n  likes,\r\n  onCardLike,\r\n  _id,\r\n  onCardDelete,\r\n  owner,\r\n}) {\r\n  const userInfo = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    onCardClick({ img: link, title: name });\r\n  }\r\n  function handleLikeClick() {\r\n    onCardLike(likes, _id);\r\n  }\r\n  function handleDeleteClick() {\r\n    onCardDelete(_id);\r\n  }\r\n\r\n  const isOwn = owner._id === userInfo._id;\r\n\r\n  const cardDeleteButtonClassName = `${\r\n    isOwn\r\n      ? \"element__btn_delete-active opacity-link\"\r\n      : \"element__btn opacity-link\"\r\n  }`;\r\n  const isLiked = likes.some((i) => i._id === userInfo._id);\r\n  const cardLikeButtonClassName = `${\r\n    isLiked\r\n      ? \"element__likes_active element__likes_like-btn\"\r\n      : \"element__likes element__likes_like-btn\"\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"elements__box\">\r\n      <div className=\"element\">\r\n        <img\r\n          className=\"element__image\"\r\n          src={link}\r\n          onClick={handleClick}\r\n          alt={name}\r\n        />\r\n        <div className=\"element__btn_delete\">\r\n          <button\r\n            className={cardDeleteButtonClassName}\r\n            type=\"button\"\r\n            onClick={handleDeleteClick}\r\n          >\r\n            <img\r\n              src={boxCardDeleteBotton}\r\n              width=\"18\"\r\n              height=\"17\"\r\n              alt=\"Удалить\"\r\n            ></img>\r\n          </button>\r\n        </div>\r\n        <div className=\"element__info\">\r\n          <h3 className=\"element__title\">{name}</h3>\r\n          <div className=\"element__likes\">\r\n            <button\r\n              type=\"button\"\r\n              className={cardLikeButtonClassName}\r\n              onClick={handleLikeClick}\r\n            ></button>\r\n            <p className=\"element__likes element__likes_like-count\">\r\n              {likes.length}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC4SURBVHgBrZQNEcIwDEa/cAhAwiQgAQlIwAGWkDAHVMIkxMGGgpJw7dH1st013btbL2uTt6z7ATaIMd7lmOOa21b+ORUNxpoWXaq5p+RynUhETLLwTkU9BBXNxpVb+XU0SPBAHyPpKLIr/F0tskcTkugV/YzqOGUr/HApYvhZStFhHR0mmuBndWs9sA6Uz/Q5woG8Q1R3xGiHc1CKPBvOlojRQSn6oB22RAHthBxQObv3KzX4f/XCF51ui58EdOBbAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport profileEditBotton from \"../images/edit-botton.svg\";\r\nimport profileAddBotton from \"../images/add-botton.svg\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onAddPlace,\r\n  onEditProfile,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const userInfo = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button\r\n          className=\"profile__botton\"\r\n          type=\"button\"\r\n          onClick={onEditAvatar}\r\n        >\r\n          <img\r\n            className=\"profile__avatar opacity-link opacity-link_avatar\"\r\n            src={userInfo.avatar}\r\n            alt=\"аватарка\"\r\n          />\r\n        </button>\r\n        <div className=\"profile__profile-info\">\r\n          <div className=\"profile__edit-name\">\r\n            <h1 className=\"profile__name\">{userInfo.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-botton opacity-link\"\r\n              onClick={onEditProfile}\r\n            >\r\n              <img src={profileEditBotton} alt=\"кнопка редактирования\" />\r\n            </button>\r\n          </div>\r\n          <h2 className=\"profile__profession\">{userInfo.about}</h2>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-botton opacity-link\"\r\n          onClick={onAddPlace}\r\n        >\r\n          <img src={profileAddBotton} alt=\"кнопка добавления\" />\r\n        </button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {cards.map((item) => {\r\n          return (\r\n            <Card\r\n              onCardClick={onCardClick}\r\n              key={item._id}\r\n              {...item}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\nexport default Main;\r\n","export const popupTitle = document.querySelector('#popupTitle');\r\nexport const currentYear = new Date().getFullYear();\r\nexport const firstName = document.querySelector('#firstName');\r\nexport const lastName = document.querySelector('#lastName');\r\nexport const showForm = '#popupAutor';\r\n","import React from \"react\";\r\nimport { currentYear } from \"../utils/constants\";\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n          <p className=\"footer__copyright\">&copy; {currentYear} Mesto Russia</p>\r\n        </footer>\r\n  );\r\n}\r\nexport default Footer;","import React from \"react\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n    this.onLogin = props.onLogin;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  handleChange(e) {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { password, email } = this.state;\r\n    this.onLogin({ password, email });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login\">\r\n        <h2 className=\"login__title\">Вход</h2>\r\n        <form onSubmit={this.handleSubmit} className=\"login__form\">\r\n          <input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={this.state.email}\r\n            onChange={this.handleChange}\r\n            className=\"login__input\"\r\n            placeholder=\"Email\"\r\n          ></input>\r\n          <input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n            className=\"login__input\"\r\n            placeholder=\"Пароль\"\r\n          ></input>\r\n          <button type=\"submit\" className=\"login__submit\">\r\n            Вход\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/Close-Icon.628241e5.svg\";","import React from \"react\";\r\nimport PopupCloseIcon from \"../images/Close-Icon.svg\";\r\nconst PopupWithForm = ({\r\n  name,\r\n  title,\r\n  children,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  buttonText,\r\n}) => {\r\n  return (\r\n    <div className={`popup${isOpen ? \" popup_is-opened\" : \"\"}`} name={name}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close opacity-link\">\r\n          <img src={PopupCloseIcon} onClick={onClose} alt=\"кнопка закрытия\" />\r\n        </button>\r\n        <form className=\"popup__title popup__title_not_margin\" noValidate>\r\n          <h2 className=\"popup__title\">{title}</h2>\r\n          {children}\r\n          <button onClick={onSubmit} type=\"submit\" className=\"popup__submit\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport popupCloseIcon from \"../images/Close-Icon.svg\";\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`popup${props.isOpen ? \" popup_is-opened\" : \"\"}`}\r\n      id={props.name}\r\n    >\r\n      <div className=\"popup__image-container\">\r\n        <button type=\"button\" className=\"popup__close opacity-link\">\r\n          <img\r\n            src={popupCloseIcon}\r\n            onClick={props.onClose}\r\n            alt=\"кнопка закрытия\"\r\n          />\r\n        </button>\r\n        <img\r\n          className=\"popup__image\"\r\n          src={props.card.img}\r\n          alt={props.card.title}\r\n        />\r\n        <h2 className=\"popup__title\" id=\"popupTitle\">\r\n          {props.card.title}\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","class Api  {\r\n  constructor({url, token}) {\r\n    this.url = url\r\n    this.token = token;\r\n  }\r\n\r\n  getAllPromise() {\r\n    return Promise.all([this.getUserInfo(), this.getCards()]);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.url}users/me`, {\r\n      headers: \r\n        this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n  getCards() {\r\n    return fetch(`${this.url}cards`, {\r\n      headers: \r\n        this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n  changeLikeCardStatus(id, check) {\r\n\r\n    if(check === true) {\r\n\r\n    return fetch(`${this.url}cards/likes/${id}`,  {\r\n      method: \"PUT\",\r\n      headers: \r\n      this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  } else {\r\n    return fetch(`${this.url}cards/likes/${id}`,  {\r\n      method: \"DELETE\",\r\n      headers: \r\n      this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n}\r\n  setUserInfo(onUpdateUser) {\r\n    return fetch(`${this.url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this.token,\r\n      body: JSON.stringify(onUpdateUser) }).then(res => this._getResponseData(res))\r\n  }\r\n  setUserAvatar(profileAvatar) {\r\n    return fetch(`${this.url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this.token,\r\n      body: JSON.stringify(profileAvatar)}).then(res => this._getResponseData(res))\r\n  }\r\n  delmyCard(id) {\r\n    return fetch(`${this.url}cards/${id}`,  {\r\n      method: \"DELETE\",\r\n      headers: \r\n      this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n  setAddPlase(onUpdateCard) {\r\n    return fetch(`${this.url}cards/`, {\r\n      method: \"POST\",\r\n      headers: this.token,\r\n      body: JSON.stringify(onUpdateCard)}).then(res => this._getResponseData(res))\r\n  }\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n}\r\n\r\n\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-24/',\r\n  token: {\r\n    authorization: 'b94e78d1-b2d6-4481-aa74-fc7e4dc8c239',\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n });\r\n\r\nexport default api;\r\n\r\n\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n  function handleChangeName(e) {\r\n    e.preventDefault();\r\n    setName(e.target.value);\r\n  }\r\n  function handleChangeDescription(e) {\r\n    e.preventDefault();\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      buttonText=\"Сохранить\"\r\n      onClose={onClose}\r\n      isOpen={isOpen}\r\n      setName={setName}\r\n      title=\"Редактировать профиль\"\r\n      name=\"popupAutor\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        value={name}\r\n        onChange={handleChangeName}\r\n        name=\"firstName\"\r\n        id=\"firstName\"\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n        placeholder=\"Имя\"\r\n      />\r\n      <span id=\"firstName-error\" className=\"popup__error\"></span>\r\n      <input\r\n        value={description}\r\n        onChange={handleChangeDescription}\r\n        name=\"lastName\"\r\n        id=\"lastName\"\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n        placeholder=\"Профессия\"\r\n      />\r\n      <span id=\"lastName-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (isOpen === true) {\r\n      avatarRef.current.value = \"\";\r\n    }\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      buttonText=\"Сохранить\"\r\n      onClose={onClose}\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      title=\"Обновить аватар\"\r\n      name=\"popupAvatar\"\r\n    >\r\n      <input\r\n        ref={avatarRef}\r\n        name=\"link\"\r\n        id=\"AvatarLink\"\r\n        type=\"url\"\r\n        className=\"popup__input\"\r\n        required\r\n        placeholder=\"Ссылка на картинку\"\r\n      />\r\n      <span id=\"AvatarLink-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onUpdateCard}) {\r\n  const [link, setLink] = React.useState('');\r\n  const [name, setName] = React.useState('');\r\n\r\n    function handleChangeLink(e) {\r\n      setLink(e.target.value);\r\n    }\r\n    function handleChangeTitle(e) {\r\n      setName(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onUpdateCard({\r\n        name,\r\n        link,\r\n      });\r\n    }\r\n    React.useEffect(() => {\r\n      if (isOpen === true) {\r\n        setLink('');\r\n        setName('');\r\n        }\r\n      },[isOpen]);\r\n\r\n\r\n    return (\r\n      <PopupWithForm\r\n        buttonText=\"Сохранить\"\r\n        title=\"Новое место\"\r\n        name=\"popupCard\"\r\n        onClose={onClose}\r\n        isOpen={isOpen}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          value={name}\r\n          onChange={handleChangeTitle}\r\n          type=\"text\"\r\n          className=\"popup__input\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required placeholder=\"Название\"\r\n          id=\"inputTitle\"\r\n        />\r\n        <span \r\n          id=\"inputTitle-error\" \r\n          className=\"popup__error\">\r\n        </span>\r\n        <input\r\n          value={link}\r\n          onChange={handleChangeLink}\r\n          id=\"inputLink\" type=\"url\"\r\n          className=\"popup__input\"\r\n          required placeholder=\"Ссылка на картинку\"/>\r\n        <span\r\n          id=\"inputLink-error\"\r\n          className=\"popup__error\"></span>\r\n      </PopupWithForm>\r\n    )\r\n}\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n    this.onRegister = props.onRegister;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  handleChange(e) {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { password, email } = this.state;\r\n    this.onRegister({ password, email });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login\">\r\n        <h2 className=\"login__title\">Регистрация</h2>\r\n        <form onSubmit={this.handleSubmit} className=\"login__form\">\r\n          <input\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={this.state.email}\r\n            onChange={this.handleChange}\r\n            className=\"login__input\"\r\n            placeholder=\"Email\"\r\n          ></input>\r\n          <input\r\n            id=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n            className=\"login__input\"\r\n            placeholder=\"Пароль\"\r\n          ></input>\r\n          <button type=\"submit\" className=\"login__submit\">\r\n            Зарегистрироваться\r\n          </button>\r\n        </form>\r\n        <p className=\"login__register\">\r\n          Уже зарегистрированы?{\" \"}\r\n          <Link className=\"login__register\" to=\"sign-in\">\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-up\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\n\r\nimport popupCloseIcon from \"../images/Close-Icon.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <div\r\n      className={`popup${props.isOpen ? \" popup_is-opened\" : \"\"}`}\r\n      id={props.name}\r\n    >\r\n      <div className=\"popup__register\">\r\n        <button type=\"button\" className=\"popup__close opacity-link\">\r\n          <img\r\n            src={popupCloseIcon}\r\n            onClick={props.onClose}\r\n            alt=\"кнопка закрытия\"\r\n          />\r\n        </button>\r\n        <img\r\n          className=\"popup__image popup__image_register\"\r\n          alt={props.isInfo.text}\r\n          src={props.isInfo.img}\r\n        />\r\n        <h2 className=\"popup__title popup__title_register\">\r\n          {props.isInfo.text}\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default InfoTooltip;\r\n","class Auth {\r\n    constructor({url}) {\r\n        this.url = url\r\n      }\r\n  register(onRegister) {\r\n  return fetch(`${this.url}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n        \"Content-Type\": \"application/json\" \r\n    },\r\n    body: JSON.stringify({\r\n        \"password\": onRegister.password,\r\n        \"email\": onRegister.email\r\n    })\r\n  })\r\n  .then(res => this._getResponseData(res))\r\n}; \r\n_getResponseData(res) {\r\n  if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n  return res.json({\r\n    \"data\": {\r\n        \"_id\": \"\",\r\n        \"email\": \"\"\r\n    }\r\n});\r\n}\r\nauthorize(onLogin) {\r\n    return fetch(`${this.url}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            \"password\": onLogin.password,\r\n            \"email\": onLogin.email\r\n        })\r\n      })\r\n      .then(res => this._getResponseData(res))\r\n      .then((data) => {\r\n        if (data.token){\r\n          localStorage.setItem('token', data.token);\r\n          return data;\r\n        }\r\n      })\r\n}\r\nauthorizeToken(token) {\r\n\r\n  return fetch(`${this.url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  } \r\n}\r\nconst auth = new Auth({\r\n    url: 'https://auth.nomoreparties.co'\r\n   });\r\n  \r\n\r\nexport default auth;\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from \"react\";\r\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport Login from \"./Login\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport {\r\n  CurrentUserContext,\r\n  defaultUser,\r\n} from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport auth from \"../utils/auth\";\r\nimport ok from \"../images/ok.svg\";\r\nimport error from \"../images/error.svg\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditImagePopupOpen, setEditImagePopupOpen] = React.useState(false);\r\n  const [isEditRegisterPopupOpen, setEditRegisterPopupOpen] =\r\n    React.useState(false);\r\n  const [isAddRegister, setAddRegister] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({\r\n    img: null,\r\n    title: null,\r\n  });\r\n  const [isInfoTool, setInfoTool] = React.useState({ text: null, img: null });\r\n  const [currentUser, setCurrentUser] = React.useState(defaultUser);\r\n  const [selectedEmail, setSelectedEmail] = React.useState();\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem(\"token\");\r\n    auth\r\n      .authorizeToken(jwt)\r\n      .then((res) => {\r\n        if (res) {\r\n          setSelectedEmail(res.data.email);\r\n          setLoggedIn(true);\r\n          history.push(\"/mesto-react\");\r\n        }\r\n      })\r\n      .catch(() => history.push(\"/sign-in\"));\r\n    if (loggedIn === true) {\r\n      api\r\n        .getAllPromise()\r\n        .then((arg) => {\r\n          const [getUserInfo, getCards] = arg;\r\n          setCurrentUser(getUserInfo);\r\n          setCards(getCards);\r\n        })\r\n        .catch((err) => alert(err));\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setEditAvatarPopupOpen(true);\r\n  };\r\n  const handleEditProfileClick = () => {\r\n    setEditProfilePopupOpen(true);\r\n  };\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditImagePopupOpen(false);\r\n    setEditRegisterPopupOpen(false);\r\n    if (isAddRegister === true) history.push(\"/sign-in\");\r\n    setSelectedCard({ img: null, title: null });\r\n    setInfoTool({ text: null, img: null });\r\n  };\r\n  const handleCardClick = (props) => {\r\n    setSelectedCard({ img: props.img, title: props.title });\r\n    setEditImagePopupOpen(true);\r\n  };\r\n  const handleUpdateUser = (onUpdateUser) => {\r\n    api\r\n      .setUserInfo(onUpdateUser)\r\n      .then((response) => {\r\n        setCurrentUser(response);\r\n        setEditProfilePopupOpen(false);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n  const handleUpdateAvatar = (onUpdateUser) => {\r\n    api\r\n      .setUserAvatar(onUpdateUser)\r\n      .then((response) => {\r\n        setCurrentUser(response);\r\n        setEditAvatarPopupOpen(false);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n  const handleAddPlaceSubmit = (onUpdateCard) => {\r\n    api\r\n      .setAddPlase(onUpdateCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        setAddPlacePopupOpen(false);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const handleRegisterSubmit = (onRegister) => {\r\n    auth\r\n      .register(onRegister)\r\n      .then(() => {\r\n        setInfoTool({ text: \"Вы успешно зарегистрировались!\", img: ok });\r\n        setEditRegisterPopupOpen(true);\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .catch(() => {\r\n        setInfoTool({\r\n          text: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n          img: error,\r\n        });\r\n        setEditRegisterPopupOpen(true);\r\n      });\r\n  };\r\n\r\n  const handleAuthorizeSubmit = (onLogin) => {\r\n    if (!onLogin) {\r\n      return;\r\n    }\r\n    auth\r\n      .authorize(onLogin)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setLoggedIn(true);\r\n          history.push(\"/mesto-react\");\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setLoggedIn(false);\r\n        setEditRegisterPopupOpen(true);\r\n        setInfoTool({\r\n          text: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n          img: error,\r\n        });\r\n      });\r\n  };\r\n  function handleReloginSubmit() {\r\n    localStorage.removeItem(\"token\");\r\n    history.push(\"/sing-in\");\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  function handleCardDelete(_id) {\r\n    api\r\n      .delmyCard(_id)\r\n      .then(() => {\r\n        setCards((state) =>\r\n          state.map((c) => c).filter((state) => state._id !== _id)\r\n        );\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n\r\n  function handleCardLike(likes, _id) {\r\n    const isLiked = likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(_id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => (c._id === _id ? newCard : c)));\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header Relogin={handleReloginSubmit} Email={selectedEmail} />\r\n        {loggedIn}\r\n        <Switch>\r\n          <ProtectedRoute\r\n            path=\"/mesto-react\"\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login onLogin={handleAuthorizeSubmit} />\r\n            <InfoTooltip\r\n              isOpen={isEditRegisterPopupOpen}\r\n              isInfo={isInfoTool}\r\n              onClose={closeAllPopups}\r\n            />\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            <Register onRegister={handleRegisterSubmit} />\r\n            <InfoTooltip\r\n              isOpen={isEditRegisterPopupOpen}\r\n              isInfo={isInfoTool}\r\n              onClose={closeAllPopups}\r\n            />\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-up\" />}\r\n          </Route>\r\n        </Switch>\r\n        <Route path=\"/mesto-react\">\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateCard={handleAddPlaceSubmit}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <PopupWithForm\r\n            title=\"Вы уверены?\"\r\n            name=\"popup__form-avatar\"\r\n            buttonText=\"Да\"\r\n          />\r\n          <ImagePopup\r\n            name=\"popupImage\"\r\n            onClose={closeAllPopups}\r\n            card={selectedCard}\r\n            isOpen={isEditImagePopupOpen}\r\n          />\r\n        </Route>\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from '../src/components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  \r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}