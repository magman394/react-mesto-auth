{"version":3,"sources":["components/Header.js","images/edit-botton.svg","images/add-botton.svg","images/line.gif","contexts/CurrentUserContext.js","components/Card.js","images/delete.png","components/Main.js","utils/constants.js","components/Footer.js","components/Login.js","images/Close-Icon.svg","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Register.js","components/ProtectedRoute.js","images/ok.svg","images/error.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","activeClassName","to","loggedIn","Email","onClick","Relogin","exact","CurrentUserContext","React","createContext","defaultUser","name","about","avatar","defultLoading","Card","onCardClick","link","likes","onCardLike","_id","onCardDelete","owner","userInfo","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","src","img","title","alt","type","width","height","length","Main","onEditAvatar","onAddPlace","onEditProfile","cards","profileEditBotton","profileAddBotton","map","item","currentYear","document","querySelector","Date","getFullYear","Footer","Login","state","email","password","onLogin","handleChange","bind","handleSubmit","e","target","value","this","setState","preventDefault","onSubmit","onChange","placeholder","Component","PopupWithForm","children","isOpen","onClose","buttonText","PopupCloseIcon","noValidate","ImagePopup","id","popupCloseIcon","card","api","url","token","Promise","all","getUserInfo","getCards","fetch","headers","then","res","_getResponseData","check","method","onUpdateUser","body","JSON","stringify","profileAvatar","onUpdateCard","ok","json","reject","status","authorization","EditProfilePopup","currentUser","useState","setName","description","setDescription","useEffect","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","Register","onRegister","ProtectedRoute","component","InfoTooltip","isRegister","error","auth","response","data","localStorage","setItem","catch","err","console","log","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditImagePopupOpen","setEditImagePopupOpen","isEditRegisterPopupOpen","setEditRegisterPopupOpen","isAddRegister","setAddRegister","selectedCard","setSelectedCard","setCurrentUser","selectedEmail","setSelectedEmail","setCards","setLoggedIn","getAllPromise","arg","alert","jwt","getItem","authorizeToken","history","push","useHistory","closeAllPopups","Provider","path","changeLikeCardStatus","newCard","c","delmyCard","filter","authorize","register","setUserInfo","setAddPlase","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7619eb44.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\nfunction Header(props) {\r\n\r\n    return (\r\n      <header className=\"header\">\r\n          <div className=\"header__logo\"></div>\r\n          <nav className=\"menu\">\r\n            <NavLink className=\"menu__item\" activeClassName=\"menu__item_active\" to=\"/sign-up\">{props.loggedIn ? props.Email : 'Регистрация' }</NavLink>\r\n            <NavLink onClick={props.Relogin} exact className=\"menu__item\" activeClassName=\"menu__item_active\" to=\"/sign-in\">{props.loggedIn ? 'Выйти' : 'Войти' }</NavLink>\r\n            \r\n          </nav>\r\n      </header>\r\n  );\r\n}\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/edit-botton.f0dd9c51.svg\";","export default __webpack_public_path__ + \"static/media/add-botton.bed8c136.svg\";","export default __webpack_public_path__ + \"static/media/line.90aa511c.gif\";","import React from 'react';\r\nimport defultLoading from '../images/line.gif';\r\nexport const CurrentUserContext = React.createContext();\r\nexport const defaultUser = {\r\n    name: '',\r\n    about: '',\r\n    avatar: defultLoading\r\n}; \r\n\r\n","import React from \"react\";\r\nimport boxCardDeleteBotton from '../images/delete.png';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nfunction Card({onCardClick, link, name, likes, onCardLike, _id, onCardDelete, owner}) {\r\n  const userInfo = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    onCardClick({img: link, title: name});\r\n    \r\n  } \r\n  function handleLikeClick() {\r\n    onCardLike(likes, _id);\r\n    \r\n  } \r\n  function handleDeleteClick() {\r\n    onCardDelete(_id);\r\n  } \r\n\r\n  const isOwn = owner._id === userInfo._id;\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `${isOwn ? 'element__btn_delete-active opacity-link' : 'element__btn opacity-link'}`\r\n  );   \r\n  const isLiked = likes.some(i => i._id === userInfo._id);\r\n  const cardLikeButtonClassName = `${isLiked ? 'element__likes_active element__likes_like-btn' : 'element__likes element__likes_like-btn'}`; \r\n\r\n  return (\r\n    <div className=\"elements__box\">\r\n          <div className=\"element\" >\r\n            <img className=\"element__image\" src={link} onClick={handleClick} alt={name}/>\r\n            <div className=\"element__btn_delete\">\r\n              <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}><img src={boxCardDeleteBotton} width=\"18\" height=\"17\" alt=\"Удалить\" ></img></button>\r\n            </div>\r\n            <div className=\"element__info\">\r\n              <h3 className=\"element__title\">{name}</h3>\r\n              <div className=\"element__likes\">\r\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                <p className=\"element__likes element__likes_like-count\">{likes.length}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n     </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC4SURBVHgBrZQNEcIwDEa/cAhAwiQgAQlIwAGWkDAHVMIkxMGGgpJw7dH1st013btbL2uTt6z7ATaIMd7lmOOa21b+ORUNxpoWXaq5p+RynUhETLLwTkU9BBXNxpVb+XU0SPBAHyPpKLIr/F0tskcTkugV/YzqOGUr/HApYvhZStFhHR0mmuBndWs9sA6Uz/Q5woG8Q1R3xGiHc1CKPBvOlojRQSn6oB22RAHthBxQObv3KzX4f/XCF51ui58EdOBbAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport profileEditBotton from '../images/edit-botton.svg';\r\nimport profileAddBotton from '../images/add-botton.svg';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\n\r\nfunction Main({onEditAvatar, onAddPlace, onEditProfile, onCardClick, cards, onCardLike, onCardDelete}) {\r\n    const userInfo = React.useContext(CurrentUserContext);\r\n\r\n\r\n    return (\r\n        <main className=\"content\">\r\n          <section className=\"profile\">\r\n            <button className=\"profile__botton\" type=\"button\" onClick={onEditAvatar}><img className=\"profile__avatar opacity-link opacity-link_avatar\" src={userInfo.avatar} alt=\"аватарка\"/></button>\r\n              <div className=\"profile__profile-info\">\r\n                <div className=\"profile__edit-name\">\r\n                  <h1 className=\"profile__name\">{userInfo.name}</h1>\r\n                  <button type=\"button\" className=\"profile__edit-botton opacity-link\" onClick={onEditProfile}><img src={profileEditBotton} alt=\"кнопка редактирования\"/></button>\r\n                </div>\r\n                <h2 className=\"profile__profession\">{userInfo.about}</h2>\r\n              </div>\r\n            <button type=\"button\" className=\"profile__add-botton opacity-link\" onClick={onAddPlace}><img src={profileAddBotton} alt=\"кнопка добавления\"/></button>\r\n          </section>\r\n\r\n          <section className=\"elements\">\r\n\r\n            {cards.map((item) => {\r\n\r\n              return (\r\n                <Card onCardClick={onCardClick} key={item._id} {...item}  onCardLike={onCardLike} onCardDelete={onCardDelete} />\r\n              )\r\n                    })}\r\n          </section>\r\n\r\n\r\n        </main>\r\n  );\r\n\r\n}\r\nexport default Main;\r\n","export const popupTitle = document.querySelector('#popupTitle');\r\nexport const currentYear = new Date().getFullYear();\r\nexport const firstName = document.querySelector('#firstName');\r\nexport const lastName = document.querySelector('#lastName');\r\nexport const showForm = '#popupAutor';\r\n","import React from \"react\";\r\nimport { currentYear } from \"../utils/constants\";\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n          <p className=\"footer__copyright\">&copy; {currentYear} Mesto Russia</p>\r\n        </footer>\r\n  );\r\n}\r\nexport default Footer;","// import React from \"react\";\r\n\r\n\r\n// function Login() {\r\n\r\n//     return (\r\n//         <div className=\"login\">\r\n//             <h2 className=\"login__title\">Вход</h2>\r\n//             <form className=\"login__form\">\r\n//                 <input type=\"text\" className=\"login__input\" placeholder=\"Email\"></input>\r\n//                 <input type=\"password\" className=\"login__input\"placeholder=\"Пароль\"></input>\r\n//                 <button type=\"submit\" className=\"login__submit\">Вход</button>\r\n//             </form>\r\n//         </div>\r\n//   );\r\n\r\n// }\r\n// export default Login;\r\n\r\nimport React from \"react\";\r\n\r\n\r\nclass Login extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    }\r\n    this.onLogin = props.onLogin;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  handleChange(e) {\r\n    const {name, value} = e.target;\r\n    this.setState({\r\n      [name]: value \r\n    });\r\n  }\r\n\r\n\r\n handleSubmit(e) {\r\n    e.preventDefault();\r\n    let { password, email } = this.state;\r\n    this.onLogin({\r\n        \"password\": password,\r\n        \"email\": email\r\n    });\r\n\r\n  }\r\n\r\n    \r\n  render(){\r\n    return (\r\n        <div className=\"login\">\r\n            <h2 className=\"login__title\">Вход</h2>\r\n            <form onSubmit={this.handleSubmit} className=\"login__form\">\r\n                <input name=\"email\" type=\"email\" value={this.state.email} onChange={this.handleChange} className=\"login__input\" placeholder=\"Email\"></input>\r\n                <input name=\"password\" type=\"password\" value={this.state.password} onChange={this.handleChange} className=\"login__input\"placeholder=\"Пароль\"></input>\r\n                <button type=\"submit\" className=\"login__submit\">Вход</button>\r\n            </form>\r\n        </div>\r\n  );\r\n  }\r\n}\r\n\r\nexport default Login; \r\n\r\n","export default __webpack_public_path__ + \"static/media/Close-Icon.628241e5.svg\";","import React from \"react\";\r\nimport PopupCloseIcon from '../images/Close-Icon.svg';\r\nconst PopupWithForm = ({ name, title, children, isOpen, onClose, onSubmit, buttonText}) => {\r\n\r\n    return (\r\n        <div className={`popup${isOpen ? ' popup_is-opened' : ''}`} name={name}>\r\n          <div className=\"popup__container\">\r\n          <button type=\"button\" className=\"popup__close opacity-link\"><img src={PopupCloseIcon} onClick={onClose} alt=\"кнопка закрытия\"/></button>\r\n            <form className=\"popup__title popup__title_not_margin\" noValidate>\r\n              <h2 className=\"popup__title\">{title}</h2>\r\n              {children}\r\n              <button onClick={onSubmit} type=\"submit\" className=\"popup__submit\">{buttonText}</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n  export default PopupWithForm;\r\n\r\n","import React from \"react\";\r\nimport popupCloseIcon from '../images/Close-Icon.svg';\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <div className={`popup${props.isOpen ? ' popup_is-opened' : ''}`} id={props.name}>\r\n          <div className=\"popup__image-container\">\r\n              <button type=\"button\" className=\"popup__close opacity-link\"><img src={popupCloseIcon} onClick={props.onClose} alt=\"кнопка закрытия\"/></button>\r\n              <img className=\"popup__image\" src={props.card.img} alt={props.card.title}/>\r\n              <h2 className=\"popup__title\" id=\"popupTitle\">{props.card.title}</h2>\r\n          </div>\r\n        </div>\r\n  );\r\n}\r\nexport default ImagePopup;","class Api  {\r\n  constructor({url, token}) {\r\n    this.url = url\r\n    this.token = token;\r\n  }\r\n\r\n  getAllPromise() {\r\n    return Promise.all([this.getUserInfo(), this.getCards()]);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.url}users/me`, {\r\n      headers: \r\n        this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n  getCards() {\r\n    return fetch(`${this.url}cards`, {\r\n      headers: \r\n        this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n  changeLikeCardStatus(id, check) {\r\n\r\n    if(check === true) {\r\n\r\n    return fetch(`${this.url}cards/likes/${id}`,  {\r\n      method: \"PUT\",\r\n      headers: \r\n      this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  } else {\r\n    return fetch(`${this.url}cards/likes/${id}`,  {\r\n      method: \"DELETE\",\r\n      headers: \r\n      this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n}\r\n  setUserInfo(onUpdateUser) {\r\n    return fetch(`${this.url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this.token,\r\n      body: JSON.stringify(onUpdateUser) }).then(res => this._getResponseData(res))\r\n  }\r\n  setUserAvatar(profileAvatar) {\r\n    return fetch(`${this.url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this.token,\r\n      body: JSON.stringify(profileAvatar)}).then(res => this._getResponseData(res))\r\n  }\r\n  delmyCard(id) {\r\n    return fetch(`${this.url}cards/${id}`,  {\r\n      method: \"DELETE\",\r\n      headers: \r\n      this.token\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n  setAddPlase(onUpdateCard) {\r\n    return fetch(`${this.url}cards/`, {\r\n      method: \"POST\",\r\n      headers: this.token,\r\n      body: JSON.stringify(onUpdateCard)}).then(res => this._getResponseData(res))\r\n  }\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n}\r\n\r\n\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-24/',\r\n  token: {\r\n    authorization: 'b94e78d1-b2d6-4481-aa74-fc7e4dc8c239',\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n });\r\n\r\nexport default api;\r\n\r\n\r\n","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n    function handleChangeName(e) {\r\n        e.preventDefault();\r\n        setName(e.target.value);\r\n      }\r\n    function handleChangeDescription(e) {\r\n      e.preventDefault();\r\n      setDescription(e.target.value);\r\n    }\r\n\r\n      React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser]); \r\n    \r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      }\r\n\r\n\r\n    return (\r\n<PopupWithForm buttonText=\"Сохранить\" onClose={onClose} isOpen={isOpen} setName={setName} title=\"Редактировать профиль\" name=\"popupAutor\" onSubmit={handleSubmit} >\r\n          <input value={name} onChange={handleChangeName} name=\"firstName\" id=\"firstName\" type=\"text\" className=\"popup__input\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Имя\" />\r\n          <span id=\"firstName-error\" className=\"popup__error\"></span>\r\n          <input value={description} onChange={handleChangeDescription} name=\"lastName\" id=\"lastName\" type=\"text\" className=\"popup__input\" minLength=\"2\" maxLength=\"200\" required placeholder=\"Профессия\"/>\r\n          <span id=\"lastName-error\" className=\"popup__error\"></span>\r\n</PopupWithForm>\r\n    )\r\n}\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n      }\r\n\r\n      React.useEffect(() => {\r\n        if (isOpen === true) {\r\n          avatarRef.current.value = '';\r\n          }\r\n        },[isOpen]);\r\n  \r\n    return (\r\n        <PopupWithForm buttonText=\"Сохранить\" onClose={onClose} isOpen={isOpen}  onSubmit={handleSubmit} title=\"Обновить аватар\" name=\"popupAvatar\">\r\n            <input ref={avatarRef} name=\"link\" id=\"AvatarLink\" type=\"url\" className=\"popup__input\" required placeholder=\"Ссылка на картинку\"/>\r\n            <span id=\"AvatarLink-error\" className=\"popup__error\"></span>\r\n        </PopupWithForm>\r\n\r\n\r\n    )\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onUpdateCard}) {\r\n  const [link, setLink] = React.useState('');\r\n  const [name, setName] = React.useState('');\r\n\r\n    function handleChangeLink(e) {\r\n      setLink(e.target.value);\r\n    }\r\n    function handleChangeTitle(e) {\r\n      setName(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onUpdateCard({\r\n        name,\r\n        link,\r\n      });\r\n    }\r\n    React.useEffect(() => {\r\n      if (isOpen === true) {\r\n        setLink('');\r\n        setName('');\r\n        }\r\n      },[isOpen]);\r\n\r\n\r\n    return (\r\n      <PopupWithForm buttonText=\"Сохранить\" onClose={onClose} isOpen={isOpen} title=\"Новое место\" name=\"popupCard\" onSubmit={handleSubmit} >\r\n        <input value={name} onChange={handleChangeTitle}  type=\"text\" className=\"popup__input\" minLength=\"2\" maxLength=\"30\" required placeholder=\"Название\" id=\"inputTitle\"/>\r\n        <span id=\"inputTitle-error\" className=\"popup__error\"></span>\r\n        <input value={link} onChange={handleChangeLink}  id=\"inputLink\" type=\"url\" className=\"popup__input\" required placeholder=\"Ссылка на картинку\"/>\r\n        <span id=\"inputLink-error\" className=\"popup__error\"></span>\r\n      </PopupWithForm>\r\n    )\r\n}\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nimport { Link } from 'react-router-dom'; \r\n\r\nclass Register extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    }\r\n    this.onRegister = props.onRegister;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  handleChange(e) {\r\n    const {name, value} = e.target;\r\n    this.setState({\r\n      [name]: value \r\n    });\r\n  }\r\n//   handleSubmit(e){\r\n//     e.preventDefault()\r\n//     let { password, email } = this.state;\r\n//     auth.register(password, email).then((res) => {\r\n//         if(res){\r\n//           this.setState({\r\n//             message: ''\r\n//           }, () => {\r\n//             this.props.history.push('/sign-in');\r\n//           })\r\n//         } else {\r\n//           this.setState({\r\n//             message: 'Что-то пошло не так!'\r\n//           })\r\n//         }\r\n//       });\r\n// }\r\n\r\n handleSubmit(e) {\r\n    e.preventDefault();\r\n    let { password, email } = this.state;\r\n    this.onRegister({\r\n        \"password\": password,\r\n        \"email\": email\r\n    });\r\n\r\n  }\r\n\r\n    \r\n  render(){\r\n    return(\r\n        <div className=\"login\">\r\n            <h2 className=\"login__title\">Регистрация</h2>\r\n            <form onSubmit={this.handleSubmit} className=\"login__form\">\r\n                <input id=\"email\" name=\"email\" type=\"email\" value={this.state.email} onChange={this.handleChange} className=\"login__input\" placeholder=\"Email\"></input>\r\n                <input id=\"password\" name=\"password\" type=\"password\" value={this.state.password} onChange={this.handleChange} className=\"login__input\"placeholder=\"Пароль\"></input>\r\n                <button type=\"submit\" className=\"login__submit\">Зарегистрироваться</button>\r\n            </form>\r\n            <p className=\"login__register\">Уже зарегистрированы? <Link className=\"login__register\" to=\"sign-in\">Войти</Link></p>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Register; \r\n\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-up\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from \"react\";\r\nimport ok from '../images/ok.svg';\r\nimport error from '../images/error.svg';\r\nimport popupCloseIcon from '../images/Close-Icon.svg';\r\n\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    return (\r\n        <div className={`popup${props.isOpen ? ' popup_is-opened' : ''}`} id={props.name}>\r\n          <div className=\"popup__register\">\r\n              <button type=\"button\" className=\"popup__close opacity-link\"><img src={popupCloseIcon} onClick={props.onClose} alt=\"кнопка закрытия\"/></button>\r\n              <img className=\"popup__image popup__image_register\" src={props.isRegister ? ok : error } />\r\n              <h2 className=\"popup__title popup__title_register\">{props.isRegister ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.' }</h2>\r\n          </div>\r\n        </div>\r\n  );\r\n}\r\nexport default InfoTooltip;","class Auth {\r\n    constructor({url}) {\r\n        this.url = url\r\n      }\r\n  register(onRegister) {\r\n  return fetch(`${this.url}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n        \"Content-Type\": \"application/json\" \r\n    },\r\n    body: JSON.stringify({\r\n        \"password\": onRegister.password,\r\n        \"email\": onRegister.email\r\n    })\r\n  })\r\n  .then(res => this._getResponseData(res))\r\n}; \r\n_getResponseData(res) {\r\n  if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n  return res.json({\r\n    \"data\": {\r\n        \"_id\": \"\",\r\n        \"email\": \"\"\r\n    }\r\n});\r\n}\r\nauthorize(onLogin) {\r\n    return fetch(`${this.url}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            \"password\": onLogin.password,\r\n            \"email\": onLogin.email\r\n        })\r\n      })\r\n      .then((response => response.json()))\r\n      .then((data) => {\r\n        if (data.token){\r\n          localStorage.setItem('token', data.token);\r\n          return data;\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n}\r\nauthorizeToken(token) {\r\n\r\n  return fetch(`${this.url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => data)\r\n  } \r\n}\r\nconst auth = new Auth({\r\n    url: 'https://auth.nomoreparties.co'\r\n   });\r\n  \r\n\r\nexport default auth;\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport Login from './Login';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport {CurrentUserContext, defaultUser} from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport auth from \"../utils/auth\"\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\r\n  const [isEditImagePopupOpen, setEditImagePopupOpen] = React.useState(false)\r\n  const [isEditRegisterPopupOpen, setEditRegisterPopupOpen] = React.useState(false);\r\n  const [isAddRegister, setAddRegister] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({ img: null, title: null})\r\n  const [currentUser, setCurrentUser] = React.useState(defaultUser)\r\n  const [selectedEmail, setSelectedEmail] = React.useState()\r\n  const [cards, setCards] = React.useState([])\r\n  const [loggedIn, setLoggedIn] = React.useState(false)\r\n\r\n\r\n  React.useEffect(() => {\r\n    api.getAllPromise().then((arg) => {\r\n        const [getUserInfo, getCards] = arg;\r\n        setCurrentUser(getUserInfo);\r\n        setCards(getCards);\r\n    }).catch((err) => alert(err));\r\n      const jwt = localStorage.getItem('token');\r\n          auth.authorizeToken(jwt).then((res) => {\r\n        if(res) {\r\n          setSelectedEmail(res.data.email);\r\n          setLoggedIn(true);\r\n          history.push(\"/mesto-react\");\r\n        } \r\n      })\r\n\r\n  }, [])\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n  const handleEditProfileClick = () => {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n  let history = useHistory();\r\n  const closeAllPopups = () => {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditImagePopupOpen(false);\r\n    setEditRegisterPopupOpen(false);\r\n    if (isAddRegister === true)\r\n    history.push(\"/sign-in\");\r\n    setSelectedCard({ img: null, title: null})\r\n  }\r\n  const handleCardClick = (props) => {\r\n    setSelectedCard({ img: props.img, title: props.title})\r\n    setEditImagePopupOpen(true);\r\n  }\r\n  const handleUpdateUser = (onUpdateUser) => {\r\n    api\r\n    .setUserInfo(onUpdateUser)\r\n    .then(response => {\r\n      setCurrentUser(response)\r\n      setEditProfilePopupOpen(false);\r\n    }).catch((err) => alert(err));\r\n  }\r\n  const handleUpdateAvatar = (onUpdateUser) => {\r\n    api\r\n    .setUserAvatar(onUpdateUser)\r\n    .then(response => {\r\n      setCurrentUser(response)\r\n      setEditAvatarPopupOpen(false);\r\n    }).catch((err) => alert(err));\r\n  }\r\n  const handleAddPlaceSubmit = (onUpdateCard) => {\r\n    api\r\n    .setAddPlase(onUpdateCard)\r\n    .then(newCard => {\r\n      setCards([newCard, ...cards]);\r\n      setAddPlacePopupOpen(false);\r\n    }).catch((err) => alert(err));\r\n  }\r\n  \r\n\r\n  const handleRegisterSubmit = (onRegister) => {\r\n    auth.register(onRegister).then(() => {\r\n        setAddRegister(true);\r\n        setEditRegisterPopupOpen(true);\r\n    }).catch(() => {\r\n        setAddRegister(false);\r\n        setEditRegisterPopupOpen(true);\r\n    }); \r\n    }\r\n    \r\n  const handleAuthorizeSubmit = (onLogin) => {\r\n  if (!onLogin){\r\n    return;\r\n  }\r\n  auth.authorize(onLogin)\r\n  .then((data) => {\r\n    if (data.token){\r\n      setLoggedIn(true);\r\n      history.push('/mesto-react');\r\n  }}).catch(() => {\r\n    setLoggedIn(false);\r\n    setEditRegisterPopupOpen(true);\r\n  });\r\n  }\r\n  function handleReloginSubmit() {\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  function handleCardDelete(_id) {\r\n    api.delmyCard(_id).then(() => {\r\n      setCards((state) => state.map((c) => c).filter(state => state._id !== _id));\r\n  }).catch((err) => alert(err));   \r\n  } \r\n  \r\n\r\n  function handleCardLike(likes, _id) {\r\n    const isLiked = likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(_id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === _id ? newCard : c));\r\n  }).catch((err) => alert(err));\r\n  } \r\n\r\n\r\n  return (\r\n\r\n      <div className=\"page\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header loggedIn={loggedIn} Relogin={handleReloginSubmit} Email={selectedEmail}/>\r\n          {loggedIn}\r\n          <Switch>\r\n          <ProtectedRoute\r\n          path=\"/mesto-react\"\r\n          loggedIn={loggedIn}\r\n          component={Main}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n          />\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login onLogin={handleAuthorizeSubmit} />\r\n            <InfoTooltip isOpen={isEditRegisterPopupOpen} isRegister={isAddRegister} onClose={closeAllPopups}/>\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            <Register onRegister={handleRegisterSubmit}/>\r\n            <InfoTooltip isOpen={isEditRegisterPopupOpen} isRegister={isAddRegister} onClose={closeAllPopups}/>\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-up\" />}\r\n          </Route>\r\n          </Switch>\r\n          <Route path=\"/mesto-react\">\r\n          <Footer />\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onUpdateCard={handleAddPlaceSubmit} />\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n          <PopupWithForm title=\"Вы уверены?\" name=\"popup__form-avatar\" buttonText=\"Да\" />\r\n          <ImagePopup name=\"popupImage\" onClose={closeAllPopups} card={selectedCard} isOpen={isEditImagePopupOpen} />\r\n          </Route>\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App; ","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from '../src/components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  \r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}